!! article
argv 0 test page
!! text
<phptag> echo $argv[0]; </phptag>
!! endarticle

!! article
argv 1 test page
!! text
<phptag> echo $argv[1]; </phptag>
!! endarticle

!! article
argv 7 test page
!! text
<phptag> echo $argv[7]; </phptag>
!! endarticle

!! article
argv foo test page
!! text
{{#phptag: $argv['foo'] }}
!! endarticle


!! test
argv 0 test
!! input
{{:argv 0 test page}}
!! result
<p>Argv 0 test page
</p>
!! end

!! test
argv 1 test
!! input
{{:argv 1 test page|Hello}}
!! result
<p>Hello
</p>
!! end

!! test
argv 7 test
!! input
{{:argv 7 test page|7=Seven}}
!! result
<p>Seven
</p>
!! end

!! test
argv foo test
!! input
{{:argv foo test page|foo=bar}}
!! result
<p>bar
</p>
!! end

!! test
echo null true false
!! input
<phptag> echo null, true, false; </phptag>
!! result
<p>1
</p>
!! end

!! test
tag nothing
!! input
<phptag></phptag>
!! result
!! end

!! test
tag empty
!! input
<phptag>  </phptag>
!! result
!! end

!! test
tag empty and ;
!! input
<phptag> ; </phptag>
!! result
!! end

!! test
pf nothing
!! input
{{#phptag:}}
!! result
!! end

!! test
pf empty
!! input
{{#phptag:  }}
!! result
!! end

!! test
pf echo html tag div
!! input
{{#phptag: echo '<div>test</div>'; }}
!! result
<div>test</div>

!! end

!! test
echo html tag div
!! input
<phptag> echo '<div>test</div>'; </phptag>
!! result
<div>test</div>

!! end

!! test
pf echo html tag a
!! input
{{#phptag: echo '<a href="test.com">test</a>'; }}
!! result
<p>&lt;a href="test.com"&gt;test&lt;/a&gt;
</p>
!! end

!! test
echo html tag a
!! input
<phptag> echo '<a href="test.com">test</a>'; </phptag>
!! result
<p>&lt;a href="test.com"&gt;test&lt;/a&gt;
</p>
!! end

!! test
pf echo html tag script
!! input
{{#phptag: echo '<script>alert "hello!";</script>'; }}
!! result
<p>&lt;script&gt;alert "hello!";&lt;/script&gt;
</p>
!! end

!! test
echo html tag script
!! input
<phptag> echo '<script>alert "hello!";</script>'; </phptag>
!! result
<p>&lt;script&gt;alert "hello!";&lt;/script&gt;
</p>
!! end

!! test
pf echo html tag onmouseover
!! input
<div
{{#phptag: echo ' onmouseover="alert"'; }}
>test</div>
!! result
<div>test</div>

!! end

!! test
echo html tag onmouseover
!! input
<div
{{#phptag: echo ' onmouseover="alert"'; }}
>test</div>
!! result
<div>test</div>

!! end
